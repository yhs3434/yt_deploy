{"version":3,"sources":["lib/datetime.js","lib/websocket.js","lib/scroll.js","lib/mysql.js","pages/Login.js","pages/SignUp.js","pages/Home.js","headers/icons/notification.svg","headers/icons/account_box-24px.svg","headers/icons/menu-24px.svg","headers/Header.js","pages/DetailYours.js","lib/dbconfig.js","lib/indexeddb.js","pages/WriteDiary.js","components/MyLi.js","pages/MyDiary.js","pages/OtherDiary.js","pages/DetailDiary.js","pages/ModifyDiary.js","components/oauthCallback.js","pages/SaveDiary.js","pages/redirect/Redirect.js","App.js","serviceWorker.js","index.js"],"names":["exports","convertDatetime","dt","Date","toISOString","slice","replace","module","encodeToWs","message","escape","JSON","stringify","decodeFromWs","parse","unescape","moreAuto","moreFunc","docElem","document","documentElement","scrollTop","window","innerHeight","scrollHeight","datetimeToMysql","datetime","Login","naver","LoginWithNaverId","clientId","process","callbackUrl","isPopup","loginButton","color","type","height","init","props","this","Boolean","Kakao","Auth","createLoginButton","container","success","authObj","console","log","getStatusInfo","res","setKakaoId","user","id","history","fail","err","alert","style","wrap","display","justifyContent","alignItems","authWrap","flexDirection","width","backgroundColor","marginTop","String","marginBottom","btn","margin","onClick","kakaoClicked","naverClicked","Component","withRouter","SignUp","state","uname","pwd","pwd_chk","email","email_chk","replaceBack","from","location","pathname","replaceCur","href","handleSubmit","event","a","async","data","preventDefault","axios","post","REACT_APP_HTTP_SERVER_URI","signed","handleChange","setState","target","name","value","onSubmit","className","htmlFor","placeholder","onChange","required","Home","maxWidth","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","_ref","svgRef","title","x","y","viewBox","enableBackground","xmlSpace","ref","forwardRef","fill","Header","myMenuClick","drawerClick","getUserInfo","myMenuClicked","myMenuClickedOpen","myMenuClickedClose","saveMineClicked","push","saveYoursClicked","modalBackgroundClicked","drawerClicked","my","cursor","myMenu","position","top","right","boxShadow","zIndex","myMenuLi","myMenuUl","lineHeight","fontSize","myMenuHidden","headerRightRight","modalBackground","left","drawer","paddingTop","paddingBottom","drawerBack","to","marginRight","logged","logOut","DetailYours","diaryPage","minHeight","memoTitle","memoContent","published","memoConfig","openDB","Promise","resolve","reject","req","indexedDB","open","onsuccess","evt","db","result","onerror","error","errorCode","onupgradeneeded","store","currentTarget","createObjectStore","keyPath","autoIncrement","createIndex","unique","getObjectStore","mode","transaction","objectStore","WriteDiary","autoSaveInterval","superthis","obj","modified","ispublic","publicTime","add","e","autoSaveRemove","autoSave","localStorage","getAutoSave","isAutoSave","confirm","setInterval","clearInterval","autoFocus","rows","MyLi","MyDiary","memos","memoOffset","delim","getAllData","openCursor","get","memo","continue","memoClicked","dataset","idx","setMemoId","setMemoTitle","setMemoContent","setPublished","writeButtonClicked","moreButtonClicked","onScroll","addEventListener","removeEventListener","map","data-idx","OtherDiary","getDiary","ws","WebSocket","payload","onopen","send","onmessage","close","saveButtonClicked","sessionStorage","userId","platform","memoId","DetailDiary","undefined","modalOauth","refresh","dateGap","dateDiff","_prevDate","_nextDate","prevDate","nextDate","getFullYear","getMonth","getDate","Math","abs","getTime","ceil","memoData","modalOpen","modalClose","deleteButtonClicked","request","delete","modifyButtonClicked","Number","onclose","publicButtonClicked","self","requestUpdate","put","loginModalControl","titleWrap","contentWrap","whiteSpace","alignSelf","marginLeft","btnPublic","btnPublicNone","ModifyDiary","match","params","OauthCallback","naverLogin","callbackHandle","setNaverId","getLoginStatus","status","getId","reprompt","SaveDiary","getMine","getYours","Redirect","page","App","useState","setLogged","setUserId","useEffect","getRefreshState","setRefreshState","logIn","removeItem","basename","path","component","exact","isLocalhost","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","getElementById","URL","origin","fetch","headers","response","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.e6a5e668.chunk.js","sourcesContent":["function convertDatetime(dt) {\r\n    if (dt === 'init') {\r\n        return new Date().toISOString().slice(0, 19).replace('T', ' ');\r\n    } else {\r\n        return new Date(dt).toISOString().slice(0, 19).replace('T', ' ');\r\n    }\r\n    \r\n}\r\n\r\nexports.convertDatetime = convertDatetime;","// message 는 object 이어야 함.\r\nconst encodeToWs = (message) => {\r\n    return escape(JSON.stringify(message));\r\n}\r\n\r\nconst decodeFromWs = (message) => {\r\n    return JSON.parse(unescape(message));\r\n}\r\n\r\nmodule.exports.encodeToWs = encodeToWs;\r\nmodule.exports.decodeFromWs = decodeFromWs;","function moreAuto(moreFunc) {\r\n    const docElem = document.documentElement;\r\n    if (docElem.scrollTop + window.innerHeight >= docElem.scrollHeight) {\r\n        moreFunc();\r\n    }\r\n}\r\n\r\nexports.moreAuto = moreAuto;","function datetimeToMysql(datetime) {\r\n    return new Date(datetime).toISOString().slice(0, 19).replace('T', ' ');\r\n}\r\n\r\nexports.datetimeToMysql = datetimeToMysql;","import React, {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nclass Login extends Component {\r\n    componentDidMount() {\r\n        const naverLogin = new window.naver.LoginWithNaverId(\r\n            {\r\n                clientId: process.env.REACT_APP_NAVER_CLIENT_ID,\r\n                callbackUrl: `${process.env.REACT_APP_NAVER_CALLBACK_URL}`,\r\n                isPopup: false,\r\n                loginButton: {color: \"green\", type: 3, height: 48} /* 로그인 버튼의 타입을 지정 */\r\n            }\r\n        );\r\n\r\n    /* 설정정보를 초기화하고 연동을 준비 */\r\n        naverLogin.init();\r\n\r\n        // 사용할 앱의 JavaScript 키를 설정해 주세요.\r\n        // window.Kakao.init(process.env.REACT_APP_KAKAO_KEY);\r\n        \r\n        const props = this.props;\r\n        // 카카오 로그인 버튼을 생성합니다.\r\n        if (Boolean(window.Kakao.Auth)) {\r\n            window.Kakao.Auth.createLoginButton({\r\n                container: '#kakao-login-btn',\r\n                success: function(authObj) {\r\n                    console.log(JSON.stringify(authObj));\r\n                    window.Kakao.Auth.getStatusInfo((res) => {\r\n                        props.setKakaoId(res.user.id);\r\n                    });\r\n                    props.history.replace('/');\r\n                },\r\n                fail: function(err) {\r\n                    alert(JSON.stringify(err));\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const style = {\r\n            wrap: {\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center'\r\n            },\r\n            authWrap: {\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                width: '400px',\r\n                height: '300px',\r\n                backgroundColor: 'transparent',\r\n                marginTop: String((window.innerHeight-60)/2 - 200) + 'px',\r\n                marginBottom: '1rem'\r\n            },\r\n            btn: {\r\n                margin: '0.5rem'\r\n            }\r\n        }\r\n        return (\r\n            <div style={style.wrap}>\r\n                <article style={style.authWrap}>\r\n                    <div id=\"kakao-login-btn\" onClick={this.kakaoClicked} style={style.btn}></div>\r\n                    <div id='naverIdLogin' onClick={this.naverClicked} style={style.btn}></div>\r\n                </article>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Login);","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nclass SignUp extends Component {\r\n    state = {\r\n        uname: '',\r\n        pwd: '',\r\n        pwd_chk: '',\r\n        email: '',\r\n        email_chk: ''\r\n    }\r\n\r\n    replaceBack = () => {\r\n        let { from } = this.props.location.state || {from: {pathname: \"/login\"}};\r\n        this.props.history.replace(from);\r\n    }\r\n\r\n    replaceCur = () => {\r\n        window.location.href = \"/signup\"\r\n    }\r\n\r\n    handleSubmit = async (event) => {\r\n        const {uname, pwd, pwd_chk, email} = this.state;\r\n        const data = {\r\n            uname, pwd, pwd_chk, email\r\n        };\r\n        event.preventDefault();\r\n        try {\r\n            const ret = await axios.post(`${process.env.REACT_APP_HTTP_SERVER_URI}/auth/signup`, data);\r\n            if (ret.data.signed == true) {\r\n                this.replaceBack();\r\n            } else {\r\n                alert('회원가입 실패');\r\n                this.replaceCur();\r\n            }\r\n        } catch(err) {\r\n            alert('회원가입 실패');\r\n            this.replaceCur();\r\n        }\r\n\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div className=\"container\">\r\n                        <label htmlFor=\"uname\">사용자 이름</label>\r\n                        <input type=\"text\" placeholder=\"사용자 이름\" name=\"uname\" value={this.state.uname} onChange={this.handleChange} required />\r\n                        <label htmlFor=\"pwd\">비밀번호</label>\r\n                        <input type=\"password\" placeholder=\"비밀번호\" name=\"pwd\" value={this.state.pwd} onChange={this.handleChange} required />\r\n                        <label htmlFor=\"pwd\">확인</label>\r\n                        <input type=\"password\" placeholder=\"확인\" name=\"pwd_chk\" value={this.state.pwd_chk} onChange={this.handleChange} required />\r\n                        <div>\r\n                            <input type=\"email\" placeholder=\"이메일 주소\" name=\"email\" value={this.state.email} onChange={this.handleChange} required/>\r\n                            <button type=\"button\" className=\"certbtn\">보내기</button>\r\n                        </div>\r\n                        <input type=\"number\" placeholder=\"인증 번호\" name=\"email_chk\" required/>\r\n                        <button type=\"submit\">가입</button>\r\n                    </div>\r\n                    <div className=\"containerBottom\" style={{backgroundColor:'#f1f1f1'}}>\r\n                        <button type=\"button\" className=\"cancelbtn\">Cancel</button>\r\n                        <span></span>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(SignUp);","import React, {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nclass Home extends Component {\r\n    render() {\r\n        const style = {\r\n            wrap: {\r\n                maxWidth: '800px',\r\n                width: '90%'\r\n            }\r\n        }\r\n        return(\r\n            <div style={style.wrap}>\r\n                <blockquote>\r\n                    <p>\r\n                        우리는 모두 같은 심연으로부터 비롯된 시도이며 투척이다.\r\n                        하지만 각자가 자기 나름의 목표를 향하여 노력한다.\r\n                        우리가 서로를 이해할 수는 있다.\r\n                        그러나 삶의 의미를 해석할 수 있는 건 자기 자신뿐이다.\r\n                    </p>\r\n                    <cite>데미안 - 헤르만 헤세</cite>\r\n                </blockquote>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Home);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M467.812,431.851l-36.629-61.056c-16.917-28.181-25.856-60.459-25.856-93.312V224c0-67.52-45.056-124.629-106.667-143.04 V42.667C298.66,19.136,279.524,0,255.993,0s-42.667,19.136-42.667,42.667V80.96C151.716,99.371,106.66,156.48,106.66,224v53.483 c0,32.853-8.939,65.109-25.835,93.291l-36.629,61.056c-1.984,3.307-2.027,7.403-0.128,10.752c1.899,3.349,5.419,5.419,9.259,5.419 H458.66c3.84,0,7.381-2.069,9.28-5.397C469.839,439.275,469.775,435.136,467.812,431.851z\"\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M188.815,469.333C200.847,494.464,226.319,512,255.993,512s55.147-17.536,67.179-42.667H188.815z\"\n})));\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref17 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref18 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar SvgNotification = function SvgNotification(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgNotification, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/notification.bf337eab.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar SvgAccountBox24Px = function SvgAccountBox24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgAccountBox24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/account_box-24px.30845892.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"\n});\n\nvar SvgMenu24Px = function SvgMenu24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgMenu24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/menu-24px.55f68494.svg\";\nexport { ForwardRef as ReactComponent };","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport './Header.css';\r\nimport { ReactComponent as NotificationIcon } from './icons/notification.svg';\r\nimport { ReactComponent as AccountIcon } from './icons/account_box-24px.svg';\r\nimport { ReactComponent as MenuIcon } from './icons/menu-24px.svg';\r\nimport {Link, withRouter} from 'react-router-dom';\r\n\r\nclass Header extends Component {\r\n    state = {\r\n        myMenuClick: false,\r\n        drawerClick: false\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    getUserInfo = async () => {\r\n        // 유저데이터 불러오기\r\n    };\r\n\r\n    myMenuClicked = (event) => {\r\n        if (this.state.myMenuClick === false) {\r\n            this.setState({\r\n                myMenuClick: true\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                myMenuClick: false\r\n            });\r\n        }\r\n    }\r\n\r\n    // 메뉴 펼치기, 접기\r\n    myMenuClickedOpen = (event) => {\r\n        this.setState({\r\n            myMenuClick: true\r\n        })\r\n    }\r\n\r\n    myMenuClickedClose = (event) => {\r\n        this.setState({\r\n            myMenuClick: false\r\n        })\r\n    }\r\n\r\n    saveMineClicked = (event) => {\r\n        this.props.history.push('/redirect/save/mine');\r\n        this.myMenuClickedClose();\r\n    }\r\n\r\n    saveYoursClicked = (event) => {\r\n        this.props.history.push('/redirect/save/yours');\r\n        this.myMenuClickedClose();\r\n    }\r\n\r\n    modalBackgroundClicked = (event) => {\r\n        this.myMenuClickedClose();\r\n    }\r\n\r\n    drawerClicked = (event) => {\r\n        this.setState({\r\n            drawerClick: !this.state.drawerClick\r\n        })\r\n    }\r\n\r\n    render () {\r\n        const style = {\r\n            my: {\r\n                cursor: 'pointer'\r\n            },\r\n            myMenu: {\r\n                position: 'absolute',\r\n                top: '3rem',\r\n                right: '0rem',\r\n                width: '250px',\r\n                backgroundColor: 'white',\r\n                boxShadow: '2px 2px 7px #b3b3b3',\r\n                zIndex: '100'\r\n            },\r\n            myMenuLi: {\r\n                cursor: 'pointer',\r\n            },\r\n            myMenuUl: {\r\n                lineHeight: '34px',\r\n                fontSize: '18px'\r\n            },\r\n            myMenuHidden: {\r\n                display: 'none'\r\n            },\r\n            headerRightRight: {\r\n                display: 'flex',\r\n            },\r\n            modalBackground: {\r\n                position: 'fixed',\r\n                width: '100%',\r\n                height: '100%',\r\n                left: 0,\r\n                top: 0,\r\n                zIndex: '10',\r\n                backgroundColor: 'rgba(0,0,0, 0.2)'\r\n            },\r\n            drawer: {\r\n                display: 'flex',\r\n                position: 'fixed',\r\n                left: '0px',\r\n                top: '0px',\r\n                width: '40%',\r\n                height: '100%',\r\n                backgroundColor: 'white',\r\n                flexDirection: 'column',\r\n                paddingTop: '50px',\r\n                paddingBottom: '50px',\r\n                alignItems: 'center',\r\n                fontSize: '20px'\r\n            },\r\n            drawerBack: {\r\n                display: 'block',\r\n                position: 'fixed',\r\n                left: '0px',\r\n                top: '0px',\r\n                width: '100%',\r\n                height: '100%',\r\n                backgroundColor: 'rgba(0,0,0, 0.2)'\r\n            }\r\n        }\r\n        return(\r\n            <div className=\"headerWrap\">\r\n                <nav className=\"headerLeft\">\r\n                    <Link className=\"headerDesktop\" to=\"/my\" style={{marginRight: '10px'}}>나의 생각</Link>\r\n                    <Link className=\"headerDesktop\" to=\"/other\">너의 생각</Link>\r\n                    <div className=\"headerMobile\">\r\n                        <div style={this.state.drawerClick ? style.drawerBack : {display: 'none'}} onClick={this.drawerClicked}></div>\r\n                        <div style={this.state.drawerClick ? style.drawer : {display: 'none'}}>\r\n                            <Link className=\"drawerItem\" to=\"/my\" onClick={this.drawerClicked}>나의 생각</Link>\r\n                            <Link className=\"drawerItem\" to=\"/other\" onClick={this.drawerClicked}>너의 생각</Link>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"headerMobile\"><MenuIcon style={{cursor: 'pointer'}} onClick={this.drawerClicked}/></div>\r\n                    \r\n                </nav>\r\n                <div className=\"headerMid\"></div>\r\n                <div className=\"headerRight\">\r\n                    {\r\n                        this.props.logged\r\n                        ?\r\n                        <div style={style.headerRightRight}> \r\n                            <div style={{position: 'relative'}}>\r\n                                <div onClick={this.myMenuClicked} style={style.my}><AccountIcon height='40px' width='40px'/></div>\r\n                                \r\n                                <div style={this.state.myMenuClick?style.modalBackground:{display: 'none'}} onClick={this.modalBackgroundClicked}/>\r\n                                <div style={this.state.myMenuClick?style.myMenu:style.myMenuHidden} id='mymenu'>\r\n                                    <ul style={style.myMenuUl}>\r\n                                        <li><span onClick={this.saveMineClicked} style={style.myMenuLi}>저장한 나의 글</span></li>\r\n                                        <li><span onClick={this.saveYoursClicked} style={style.myMenuLi}>저장한 너의 글</span></li>\r\n                                        <li><span style={style.myMenuLi}>고객센터</span></li>\r\n                                        <li><span onClick={this.props.logOut} style={style.myMenuLi}>로그아웃</span></li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        : \r\n                        <div>\r\n                            <Link to=\"/login\">로그인</Link>\r\n                            {\r\n                                //<Link to=\"/signup\">회원 가입</Link>\r\n                            }\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Header);","import React, {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nclass DetailYours extends Component {\r\n    render() {\r\n        const style = {\r\n            diaryPage: {\r\n                minHeight: String(window.innerHeight-142)+\"px\"\r\n            }\r\n        }\r\n        return (\r\n            <div className=\"diaryPage\" style={style.diaryPage}>\r\n                <div>\r\n                    <pre className=\"diary-memoTitle\">{this.props.memoTitle}</pre>\r\n                    <pre className=\"diary-memoContent\">{this.props.memoContent}</pre>\r\n                    <pre className=\"diary-published\">{this.props.published}</pre>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(DetailYours);","export const memoConfig = {\r\n    DB_NAME: 'OthersThink',\r\n    DB_VERSION: 1,\r\n    DB_STORE_NAME: 'memo'\r\n}","import {memoConfig} from './dbconfig';\r\n\r\nexport function openDB() {\r\n    return new Promise(function(resolve, reject) {\r\n        let req = indexedDB.open(memoConfig.DB_NAME, memoConfig.DB_VERSION);\r\n        req.onsuccess = (evt) => {\r\n            let db = evt.target.result;\r\n            resolve(db);\r\n        };\r\n        req.onerror = (evt) => {\r\n            console.error(\"indexedDB : \", evt.target.errorCode);\r\n            reject();\r\n        };\r\n        req.onupgradeneeded = (evt) => {\r\n            let store = evt.currentTarget.result.createObjectStore(memoConfig.DB_STORE_NAME,\r\n                {keyPath: 'id', autoIncrement: true});\r\n            store.createIndex('memoTitle', 'memoTitle', {unique: false});\r\n            store.createIndex('memoContent', 'memoContent', {unique: false});\r\n            store.createIndex('published', 'published', {unique: false});\r\n        }\r\n    })\r\n};\r\n\r\nexport function getObjectStore(db, mode) {\r\n    return db.transaction(memoConfig.DB_STORE_NAME, mode).objectStore(memoConfig.DB_STORE_NAME);\r\n}","import React, {Component} from 'react';\r\nimport './css/WriteDiary.css';\r\nimport {openDB, getObjectStore} from '../lib/indexeddb';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {convertDatetime} from '../lib/datetime';\r\n\r\nclass WriteDiary extends Component {\r\n    state = {\r\n        memoTitle: '',\r\n        memoContent: '',\r\n        autoSaveInterval: null\r\n    }\r\n    \r\n    componentDidMount() {\r\n        if (this.isAutoSave()) {\r\n            const result = window.confirm(`작성 중이던 글이 존재합니다.\r\n계속 작성 하시겠습니까?\r\n            `);\r\n            if (result) {\r\n                this.setState(this.getAutoSave());\r\n            } else {\r\n                this.autoSaveRemove();\r\n            }\r\n        }\r\n        const autoSaveInterval = window.setInterval(this.autoSave, 5000);\r\n        this.setState({\r\n            autoSaveInterval: autoSaveInterval\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.clearInterval(this.state.autoSaveInterval);\r\n        this.setState({autoSaveInterval: null});\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.currentTarget.name] : event.currentTarget.value\r\n        });\r\n    }\r\n\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const superthis = this;\r\n        const obj = {\r\n            memoTitle: this.state.memoTitle,\r\n            memoContent: this.state.memoContent,\r\n            published: convertDatetime('init'),\r\n            modified: convertDatetime('init'),\r\n            ispublic: false,\r\n            publicTime: null\r\n        };\r\n        const db = await openDB();\r\n        const objectStore = getObjectStore(db, 'readwrite');\r\n        let req;\r\n        try {\r\n            req = objectStore.add(obj);\r\n            \r\n        } catch (e) {}\r\n        req.onsuccess = (evt) => {\r\n            this.autoSaveRemove();\r\n            superthis.props.history.replace('/my');\r\n            console.log('입력 완료');\r\n        }\r\n        req.onerror = () => {\r\n            console.error(this.error);\r\n        }\r\n    }\r\n\r\n    autoSave = (event) => {\r\n        if (this.state.memoTitle) {\r\n            window.localStorage[`${process.env.REACT_APP_APP_NAME}.auto.memoTitle`] = this.state.memoTitle;\r\n        }\r\n        if (this.state.memoContent) {\r\n            window.localStorage[`${process.env.REACT_APP_APP_NAME}.auto.memoContent`] = this.state.memoContent;\r\n        }\r\n    }\r\n\r\n    autoSaveRemove = (event) => {\r\n        window.localStorage[`${process.env.REACT_APP_APP_NAME}.auto.memoTitle`] = '';\r\n        window.localStorage[`${process.env.REACT_APP_APP_NAME}.auto.memoContent`] = '';\r\n    }\r\n\r\n    getAutoSave = (event) => {\r\n        const obj = {\r\n            memoTitle: window.localStorage[`${process.env.REACT_APP_APP_NAME}.auto.memoTitle`],\r\n            memoContent: window.localStorage[`${process.env.REACT_APP_APP_NAME}.auto.memoContent`]\r\n        };\r\n        return obj;\r\n    }\r\n\r\n    isAutoSave = (event) => {\r\n        if (Boolean(window.localStorage[`${process.env.REACT_APP_APP_NAME}.auto.memoTitle`]) || Boolean(window.localStorage[`${process.env.REACT_APP_APP_NAME}.auto.memoContent`])){\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const style = {\r\n            p: {\r\n                marginTop: '2rem',\r\n                marginBottom: '2rem'\r\n            }\r\n        }\r\n        return(\r\n            <form className=\"writeDiaryWrap\" onSubmit={this.handleSubmit}>\r\n                <p style={style.p}>\r\n                    지금 이 순간 당신의 생각을 적어주세요\r\n                </p>\r\n                <input\r\n                    className=\"writeDiaryTitle\"\r\n                    name=\"memoTitle\"\r\n                    autoFocus\r\n                    onChange={this.handleChange}\r\n                    value={this.state.memoTitle}\r\n                    placeholder=\"제목\"\r\n                />\r\n                <textarea \r\n                    className=\"writeDiaryTextArea\"\r\n                    name=\"memoContent\"\r\n                    rows = \"40\"\r\n                    onChange = {this.handleChange}\r\n                    value = {this.state.memoContent}\r\n                />\r\n                <button type='submit'>완료</button>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(WriteDiary);","import React from 'react';\r\n\r\nconst MyLi = ({memoTitle, memoContent, published}) => {\r\n    const style = {\r\n        wrap: {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"li-common\" style={style.wrap}>\r\n            <div>\r\n                <div className=\"li-memoTitle\">{memoTitle}</div>\r\n            </div>\r\n            <div>\r\n                <div className=\"li-memoContent\">{memoContent}</div>\r\n                <div className=\"li-published\">{published}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyLi;","import React, {Component, Fragment} from 'react';\r\nimport './css/MyDiary.css';\r\nimport {openDB, getObjectStore} from '../lib/indexeddb';\r\nimport {Link} from \"react-router-dom\";\r\nimport MyLi from '../components/MyLi';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {moreAuto} from '../lib/scroll';\r\n\r\nclass MyDiary extends Component {\r\n    state = {\r\n        memos: [],\r\n        memoOffset: 5,\r\n        delim: 5\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.getAllData();\r\n        moreAuto(this.moreButtonClicked);\r\n        window.addEventListener('scroll', this.onScroll);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.onScroll);\r\n    }\r\n\r\n    getAllData = async () => {\r\n        // get\r\n        const db = await openDB();\r\n        const objectStore = getObjectStore(db, 'readonly');\r\n        let req = objectStore.openCursor();\r\n        let superthis = this;\r\n        req.onsuccess = function (evt) {\r\n            const cursor = evt.target.result;\r\n            if (cursor) {\r\n                req = objectStore.get(cursor.key);\r\n                req.onsuccess = function (evt) {\r\n                    const memo = evt.target.result;\r\n                    superthis.setState({\r\n                        memos: [memo, ...superthis.state.memos]\r\n                    });\r\n                }\r\n                cursor.continue();\r\n            }\r\n        }\r\n    }\r\n\r\n    memoClicked = (event) => {\r\n        const memo = this.state.memos[event.currentTarget.dataset.idx];\r\n        const {setMemoId, setMemoTitle, setMemoContent, setPublished} = this.props;\r\n        setMemoId(memo.id);\r\n        setMemoTitle(memo.memoTitle);\r\n        setMemoContent(memo.memoContent);\r\n        setPublished(memo.published);\r\n        this.props.history.push('./detail');\r\n    }\r\n\r\n    writeButtonClicked = (event) => {\r\n        this.props.history.push('/writeDiary');\r\n    }\r\n\r\n    moreButtonClicked = (event) => {\r\n        this.setState({\r\n            memoOffset: this.state.memoOffset + this.state.delim\r\n        });\r\n    }\r\n\r\n    onScroll = (event) => {\r\n        moreAuto(this.moreButtonClicked);\r\n    }\r\n\r\n    render() {\r\n        const style = {\r\n            btnWrite: {\r\n                marginTop: '20px',\r\n                marginBottom: '20px'\r\n            }\r\n        }\r\n        return(\r\n            <div className=\"myDiaryWrap\">\r\n                <div>\r\n                    <button className=\"button-write\" onClick={this.writeButtonClicked}\r\n                        style={style.btnWrite}\r\n                    >글 쓰기</button>\r\n                </div>\r\n                <div className=\"li-list\">\r\n                    {\r\n                        this.state.memos.slice(0, this.state.memoOffset).map((memo, idx) => {\r\n                            return(\r\n                                <div key={idx} data-idx={idx} onClick={this.memoClicked}>\r\n                                    <MyLi\r\n                                        memoTitle = {memo.memoTitle}\r\n                                        memoContent = {memo.memoContent}\r\n                                        published = {memo.published}\r\n                                    />\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n                {   /*\r\n                    <div>\r\n                        <button onClick={this.moreButtonClicked}>더 보기</button>\r\n                    </div>\r\n                    */\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(MyDiary);","import React, {Component} from 'react';\r\nimport './css/OtherDiary.css';\r\nimport {encodeToWs, decodeFromWs} from '../lib/websocket';\r\nimport {datetimeToMysql} from '../lib/mysql';\r\nimport {convertDatetime} from '../lib/datetime';\r\n\r\nclass OtherDiary extends Component {\r\n    state = {\r\n        memoTitle: null,\r\n        memoContent: null,\r\n        published: null,\r\n        modified: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getDiary();\r\n    }\r\n\r\n    getDiary = () => {\r\n        const ws = new WebSocket(process.env.REACT_APP_SERVER_SOCKET_URL);\r\n        const message = {\r\n            type: 'publicGet',\r\n            payload: {\r\n\r\n            }\r\n        };\r\n        ws.onopen = (event) => {\r\n            ws.send(encodeToWs(message));\r\n            ws.onmessage = (event) => {\r\n                if (event.data === \"close\") {\r\n                    ws.close();\r\n                } else {\r\n                    const data = decodeFromWs(event.data);\r\n                    let {memoTitle, memoContent, published, modified} = data;\r\n                    published = convertDatetime(published);\r\n                    modified = convertDatetime(modified);\r\n                    this.setState({\r\n                        memoTitle, memoContent, published, modified\r\n                    });\r\n                }\r\n            }\r\n            ws.onerror = (event) => {\r\n                ws.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    saveButtonClicked = (event) => {\r\n        if (!Boolean(sessionStorage[`${process.env.REACT_APP_APP_NAME}.logged`])) {\r\n            alert('로그인이 필요한 서비스입니다.');\r\n            return;\r\n        }\r\n\r\n        const {memoTitle, memoContent, published, modified} = this.state;\r\n        if (published === null) {\r\n            alert('글이 있어야 합니다.');\r\n            return;\r\n        }\r\n        \r\n        const userId = sessionStorage[`${process.env.REACT_APP_APP_NAME}.userId`];\r\n        const platform = sessionStorage[`${process.env.REACT_APP_APP_NAME}.platform`];\r\n        const memoId = `${platform}${userId}_${modified}`;\r\n\r\n        const message = {\r\n            type: 'saveYours',\r\n            payload: {\r\n                memoId, memoTitle, memoContent,\r\n                published: datetimeToMysql(published)\r\n            }\r\n        };\r\n\r\n        const ws = new WebSocket(process.env.REACT_APP_SERVER_SOCKET_URL);\r\n        ws.onopen = (event) => {\r\n            ws.send(encodeToWs(message));\r\n            ws.onmessage = (event) => {\r\n                const data = decodeFromWs(event.data);\r\n                console.log(data);\r\n                if (data === 'close') {\r\n                    window.alert('[저장한 너의 글]에 저장되었습니다.');\r\n                } else if (data === 'duplicate') {\r\n                    window.alert('이미 저장되어있습니다.');\r\n                } else if (data === 'error') {\r\n                    window.alert('저장 오류');\r\n                }\r\n                ws.close();\r\n            }\r\n            ws.onerror = (event) => {\r\n                ws.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const style = {\r\n            diaryPage: {\r\n                minHeight: String(window.innerHeight-142)+\"px\"\r\n            },\r\n            btn: {\r\n                marginBottom: '5px',\r\n            }\r\n        }\r\n        return(\r\n            <div className=\"diaryPage\" style={style.diaryPage}>\r\n                <div>\r\n                    <pre className=\"diary-memoTitle\">{this.state.memoTitle}</pre>\r\n                    <pre className=\"diary-memoContent\">{this.state.memoContent}</pre>\r\n                    <pre className=\"diary-published\">{this.state.published}</pre>\r\n                </div>\r\n                <button onClick={this.getDiary} style={style.btn}>다음 글</button>\r\n                <button onClick={this.saveButtonClicked} style={style.btn}>저장</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default OtherDiary;","import React, {Component, Fragment} from 'react';\r\nimport {openDB, getObjectStore} from '../lib/indexeddb';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {encodeToWs, decodeFromWs} from '../lib/websocket';\r\nimport {convertDatetime} from '../lib/datetime';\r\n\r\nclass DetailDiary extends Component {\r\n    state = {\r\n        memoId: undefined,\r\n\r\n        modalOauth: false,\r\n        publicTime: null,\r\n        refresh: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.dateGap();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.state.refresh == true) {\r\n            this.dateGap();\r\n        }\r\n    }\r\n\r\n    dateGap = async () => {\r\n        function dateDiff(_prevDate, _nextDate) {\r\n            let prevDate = _prevDate instanceof Date ? _prevDate : new Date(_prevDate);\r\n            let nextDate = _nextDate instanceof Date ? _nextDate : new Date(_nextDate);\r\n    \r\n            prevDate = new Date(prevDate.getFullYear(), prevDate.getMonth()+1, prevDate.getDate());\r\n            nextDate = new Date(nextDate.getFullYear(), nextDate.getMonth()+1, nextDate.getDate());\r\n    \r\n            let dateGap = Math.abs(nextDate.getTime() - prevDate.getTime());\r\n            dateGap = Math.ceil(dateGap / (1000 * 3600 * 24));\r\n    \r\n            return dateGap;\r\n        };\r\n\r\n        const memoId = this.props.memoId || false;\r\n        const db = await openDB();\r\n        const objectStore = getObjectStore(db, 'readonly');\r\n\r\n        if (memoId) {\r\n            const getRequest = objectStore.get(memoId);\r\n            getRequest.onsuccess = (event) => {\r\n                const memoData = event.target.result;\r\n                const dayGap = dateDiff(memoData.publicTime, new Date());\r\n                if (dayGap > 30) {\r\n                    this.setState({\r\n                        publicTime: null,\r\n                        refresh: false\r\n                    });\r\n                } else {\r\n                    this.setState({\r\n                        publicTime: memoData.publicTime,\r\n                        refresh: false\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    modalOpen = (event) => {\r\n        this.setState({\r\n            modalOauth: true\r\n        });\r\n    }\r\n\r\n    modalClose = (event) => {\r\n        this.setState({\r\n            modalOauth: false\r\n        });\r\n    }\r\n\r\n    deleteButtonClicked = async (event) => {\r\n        const result = window.confirm(\"정말 삭제 하시겠습니까?\");\r\n        const superthis = this;\r\n        if (result && Boolean(this.props.memoTitle)) {\r\n            const db = await openDB();\r\n            let objectStore = getObjectStore(db, 'readwrite');\r\n            let request = objectStore.delete(this.props.memoId);\r\n            request.onsuccess = function(event) {\r\n                superthis.props.history.replace('/my');\r\n                console.log('delete success');\r\n            };\r\n            request.onerror = function(event) {\r\n                console.log('delete fail');\r\n            };\r\n        } else {\r\n            console.log('not delete');\r\n        }\r\n    }\r\n\r\n    modifyButtonClicked = (event) => {\r\n        const result = window.confirm(\"수정 하시겠습니까?\");\r\n        \r\n        if (result && Boolean(this.props.memoTitle)) {\r\n            this.props.history.replace(`/modify/${this.props.memoId}`);\r\n        } else {\r\n            console.log('not modify');\r\n        }\r\n    }\r\n\r\n    saveButtonClicked = async (event) => {\r\n        //const result = window.confirm(\"저장 하시겠습니까?\");  \r\n        if (!Boolean(sessionStorage[`${process.env.REACT_APP_APP_NAME}.logged`])) {\r\n            alert('로그인이 필요한 서비스입니다.')\r\n            return\r\n        }\r\n\r\n        if (Boolean(this.props.memoTitle) && Boolean(sessionStorage[`${process.env.REACT_APP_APP_NAME}.userId`])) {\r\n            const id = Number(this.props.memoId);\r\n            const userId = sessionStorage[`${process.env.REACT_APP_APP_NAME}.userId`];\r\n            const platform = sessionStorage[`${process.env.REACT_APP_APP_NAME}.platform`];\r\n            const db = await openDB();\r\n            let objectStore = getObjectStore(db, 'readonly');\r\n            let request = objectStore.get(id);\r\n            request.onsuccess = (event) => {\r\n                const {memoTitle, memoContent, published, modified} = request.result;\r\n                const memoId = `${platform}${userId}_${modified}`;\r\n                const obj = {\r\n                    memoId, memoTitle, memoContent, published\r\n                };\r\n                const message = {\r\n                    type: 'save',\r\n                    payload: obj\r\n                };\r\n                // 임시 주소\r\n                const ws = new WebSocket(process.env.REACT_APP_SERVER_SOCKET_URL);\r\n                ws.onopen = (event) => {\r\n                    ws.send(escape(JSON.stringify(message)));\r\n                }\r\n                ws.onmessage = (event) => {\r\n                    const {data} = event;\r\n                    switch (data) {\r\n                        case \"success\":\r\n                            ws.close();\r\n                            break;\r\n                        case \"fail\":\r\n                            ws.close();\r\n                            break;\r\n                    }\r\n                    window.alert('[저장한 나의 글]에 저장되었습니다.');\r\n                    \r\n                }\r\n                ws.onclose = (event) => {\r\n                    console.log('closed');\r\n                }\r\n            }\r\n        } else {\r\n            console.log('not save');\r\n        }\r\n    }\r\n\r\n    publicButtonClicked = async (event) => {\r\n        if (!Boolean(this.props.memoId)) {\r\n            return;\r\n        }\r\n        const self = this;\r\n        const db = await openDB();\r\n        const objectStore = getObjectStore(db, 'readonly');\r\n        const request = objectStore.get(this.props.memoId);\r\n        request.onsuccess = (event) => {\r\n            let memoData = request.result;\r\n            const {memoTitle, memoContent, published, modified} = request.result;\r\n            const obj = {\r\n                memoTitle, memoContent, published, modified\r\n            };\r\n            const message = {\r\n                type: 'public',\r\n                payload: obj\r\n            };\r\n            const ws = new WebSocket(process.env.REACT_APP_SERVER_SOCKET_URL);\r\n            ws.onopen = (event) => {\r\n                ws.send(encodeToWs(message));\r\n            };\r\n            ws.onmessage = (event) => {\r\n                const data = decodeFromWs(event.data);\r\n                if (data === 'success') {\r\n                    window.alert(\"[너의 생각]에 30일간 공개되었습니다.\");\r\n                    memoData.publicTime = convertDatetime('init');\r\n                    const objectStoreUpdate = getObjectStore(db, 'readwrite');\r\n                    let requestUpdate = objectStoreUpdate.put(memoData);\r\n                    requestUpdate.onerror = function(event) {\r\n                        console.log('퍼블릭 타임 갱신 실패');\r\n                    }\r\n                    requestUpdate.onsuccess = function(event) {\r\n                        console.log('퍼블릭 타임 갱신 완료');\r\n                    }\r\n                } else if (data === 'error') {\r\n                    window.alert(\"공개 오류\");\r\n                }\r\n                ws.close();\r\n                self.setState({\r\n                    refresh: true\r\n                });\r\n            };\r\n            ws.onerror = (event) => {\r\n                ws.close();\r\n            };\r\n        }\r\n    }\r\n\r\n    loginModalControl = (event) => {\r\n        if (this.state.modalOauth) {\r\n            this.modalClose();\r\n        } else {\r\n            this.modalOpen();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const style = {\r\n            wrap: {\r\n                \r\n            },\r\n            titleWrap: {\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                justifyContent: 'center'\r\n            },\r\n            contentWrap: {\r\n                whiteSpace: 'pre-wrap'\r\n            },\r\n            title: {\r\n                alignSelf: 'center',\r\n                fontSize: 20\r\n            },\r\n            diaryPage: {\r\n                minHeight: String(window.innerHeight-142)+\"px\"\r\n            },\r\n            btn: {\r\n                marginLeft: '5px',\r\n                marginRight: '5px'\r\n            },\r\n            btnPublic: {\r\n                marginLeft: '5px',\r\n                marginRight: '5px',\r\n                marginBottom: '5px',\r\n                width: '212px'\r\n            },\r\n            btnPublicNone: {\r\n                marginLeft: '5px',\r\n                marginRight: '5px',\r\n                marginBottom: '5px',\r\n                width: '212px',\r\n                backgroundColor: 'gray'\r\n            }\r\n        }\r\n        return (\r\n            <Fragment>\r\n                <div style={style.wrap} className=\"diaryPage\" style={style.diaryPage}>\r\n                    <div>\r\n                        <pre className=\"diary-memoTitle\">{this.props.memoTitle}</pre>\r\n                        <pre className=\"diary-memoContent\">{this.props.memoContent}</pre>\r\n                        <pre className=\"diary-published\">{this.props.published}</pre>\r\n                    </div>\r\n                    <div>\r\n                        <div>\r\n                            <button onClick={this.state.publicTime ? ()=>{} : this.publicButtonClicked} \r\n                                style={this.state.publicTime ? style.btnPublicNone : style.btnPublic}\r\n                            >다른 사람에게 공개</button>\r\n                        </div>\r\n                        <div>\r\n                            <button onClick={this.saveButtonClicked} style={style.btn}>저장</button>\r\n                            <button onClick={this.modifyButtonClicked} style={style.btn}>수정</button>\r\n                            <button className=\"btn-del\" onClick={this.deleteButtonClicked} style={style.btn}>삭제</button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(DetailDiary);","import React, {Component} from 'react';\r\nimport {openDB, getObjectStore} from '../lib/indexeddb';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {convertDatetime} from '../lib/datetime';\r\n\r\nclass ModifyDiary extends Component {\r\n    state = {\r\n        memoTitle: '',\r\n        memoContent: '',\r\n\r\n        memoId: undefined,\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const id = Number(this.props.match.params.id);\r\n        this.setState({\r\n            memoId: id\r\n        });\r\n        \r\n        const db = await openDB();\r\n        let objectStore = getObjectStore(db, 'readonly');\r\n        let request = objectStore.get(id);\r\n        request.onerror = (event) => {\r\n            console.log('가져오기 실패');\r\n        }\r\n        request.onsuccess = (event) => {\r\n            console.log('가져오기 성공');\r\n            //console.log(request.result);\r\n            if (Boolean(request.result)) {\r\n                this.setState({\r\n                    memoTitle: request.result.memoTitle,\r\n                    memoContent: request.result.memoContent,\r\n                    published: request.result.published\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.currentTarget.name]: event.currentTarget.value\r\n        });\r\n    }\r\n\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const superthis = this;\r\n        const obj = {\r\n            memoTitle: this.state.memoTitle,\r\n            memoContent: this.state.memoContent,\r\n            published: this.state.published\r\n        };\r\n        const db = await openDB();\r\n        const objectStore = getObjectStore(db, 'readwrite');\r\n        let request = objectStore.get(this.state.memoId);\r\n        request.onsuccess = (event) => {\r\n            let data = event.target.result;\r\n            data.memoTitle = this.state.memoTitle;\r\n            data.memoContent = this.state.memoContent;\r\n            data.modified = convertDatetime('init');\r\n\r\n            let requestUpdate = objectStore.put(data);\r\n            requestUpdate.onerror = function(event) {\r\n                console.log('수정 실패');\r\n            }\r\n            requestUpdate.onsuccess = function(event) {\r\n                console.log('수정 완료');\r\n                superthis.props.history.replace('/my');\r\n            }\r\n        }\r\n        request.onerror = (event) => {\r\n            console.error(this.error);\r\n        }\r\n        \r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <form className=\"writeDiaryWrap\" onSubmit={this.handleSubmit}>\r\n                <input\r\n                    className=\"writeDiaryTitle\"\r\n                    name=\"memoTitle\"\r\n                    autoFocus\r\n                    onChange={this.handleChange}\r\n                    value={this.state.memoTitle}\r\n                    placeholder=\"제목\"\r\n                />\r\n                <textarea \r\n                    className=\"writeDiaryTextArea\"\r\n                    name=\"memoContent\"\r\n                    rows = \"40\"\r\n                    onChange = {this.handleChange}\r\n                    value = {this.state.memoContent}\r\n                    placeholder=\"내용\"\r\n                />\r\n                <button type='submit'>완료</button>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(ModifyDiary);","import React, {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nclass OauthCallback extends Component {\r\n    componentDidMount() {\r\n        var naverLogin = new window.naver.LoginWithNaverId(\r\n\t\t\t{\r\n\t\t\t\tclientId: \"{YOUR_CLIENT_ID}\",\r\n\t\t\t\tcallbackUrl: \"{YOUR_REDIRECT_URL}\",\r\n\t\t\t\tisPopup: false,\r\n\t\t\t\tcallbackHandle: true\r\n\t\t\t\t/* callback 페이지가 분리되었을 경우에 callback 페이지에서는 callback처리를 해줄수 있도록 설정합니다. */\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\t/* (3) 네아로 로그인 정보를 초기화하기 위하여 init을 호출 */\r\n        naverLogin.init();\r\n        const setNaverId = this.props.setNaverId;\r\n        const history = this.props.history;\r\n\t\t/* (4) Callback의 처리. 정상적으로 Callback 처리가 완료될 경우 main page로 redirect(또는 Popup close) */\r\n        naverLogin.getLoginStatus(function (status) {\r\n            if (status) {\r\n                /* (5) 필수적으로 받아야하는 프로필 정보가 있다면 callback처리 시점에 체크 */\r\n                var userId = naverLogin.user.getId();\r\n                if( userId == undefined || userId == null) {\r\n                    alert(\"이메일은 필수정보입니다. 정보제공을 동의해주세요.\");\r\n                    /* (5-1) 사용자 정보 재동의를 위하여 다시 네아로 동의페이지로 이동함 */\r\n                    naverLogin.reprompt();\r\n                    return;\r\n                }\r\n                setNaverId(userId);\r\n                history.replace(`/`);\r\n\r\n                //window.location.replace(\"http://\" + window.location.hostname + ( (location.port==\"\"||location.port==undefined)?\"\":\":\" + location.port) + \"/sample/main.html\");\r\n            } else {\r\n                console.log(\"callback 처리에 실패하였습니다.\");\r\n                history.replace('/');\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        return(\r\n            <div>\r\n                oauth\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(OauthCallback);","import React, {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {encodeToWs, decodeFromWs} from '../lib/websocket';\r\nimport MyLi from '../components/MyLi';\r\nimport {convertDatetime} from '../lib/datetime';\r\nimport {moreAuto} from '../lib/scroll';\r\n\r\nclass SaveDiary extends Component {\r\n    state = {\r\n        memos: [],\r\n        memoOffset: 5,\r\n        delim: 5\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!Boolean(sessionStorage[`${process.env.REACT_APP_APP_NAME}.logged`])) {\r\n            alert('로그인이 필요한 서비스입니다.');\r\n            this.props.history.replace('/');\r\n        } else {\r\n            const mode = this.props.match.params.mode;\r\n            if (mode === 'mine') {\r\n                this.getMine();\r\n            } else if (mode === 'yours') {\r\n                this.getYours();\r\n            }\r\n        }\r\n        moreAuto(this.moreButtonClicked);\r\n        window.addEventListener('scroll', this.onScroll);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.onScroll);\r\n    }\r\n\r\n    getMine = () => {\r\n        this.setState({\r\n            memos: []\r\n        });\r\n\r\n        const ws = new WebSocket(process.env.REACT_APP_SERVER_SOCKET_URL);\r\n        ws.onopen = () => {\r\n            const message = {\r\n                type: 'getMine',\r\n                payload: {\r\n                    userId: sessionStorage[`${process.env.REACT_APP_APP_NAME}.userId`],\r\n                    platform: sessionStorage[`${process.env.REACT_APP_APP_NAME}.platform`]\r\n                }\r\n            };\r\n            ws.send(encodeToWs(message));\r\n            ws.onmessage = (event) => {\r\n                const data = decodeFromWs(event.data);\r\n                if (data === 'close'){\r\n                    console.log('close');\r\n                    ws.close();\r\n                } else {\r\n                    let memo = {\r\n                        memoTitle: data.memoTitle,\r\n                        memoContent: data.memoContent,\r\n                        published: convertDatetime(data.published)\r\n                    };\r\n                    this.setState({\r\n                        memos: [memo ,...this.state.memos]\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    getYours = () => {\r\n        this.setState({\r\n            memos: []\r\n        });\r\n\r\n        const ws = new WebSocket(process.env.REACT_APP_SERVER_SOCKET_URL);\r\n        ws.onopen = () => {\r\n            const message = {\r\n                type: 'getYours',\r\n                payload: {\r\n                    userId: sessionStorage[`${process.env.REACT_APP_APP_NAME}.userId`],\r\n                    platform: sessionStorage[`${process.env.REACT_APP_APP_NAME}.platform`]\r\n                }\r\n            };\r\n            ws.send(encodeToWs(message));\r\n            ws.onmessage = (event) => {\r\n                const data = decodeFromWs(event.data);\r\n                if (data === 'close'){\r\n                    console.log('close');\r\n                    ws.close();\r\n                } else {\r\n                    let memo = {\r\n                        memoTitle: data.memoTitle,\r\n                        memoContent: data.memoContent,\r\n                        published: convertDatetime(data.published)\r\n                    };\r\n                    this.setState({\r\n                        memos: [memo, ...this.state.memos]\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    memoClicked = (event) => {\r\n        const memo = this.state.memos[event.currentTarget.dataset.idx];\r\n        const {setMemoTitle, setMemoContent, setPublished} = this.props;\r\n        setMemoTitle(memo['memoTitle']);\r\n        setMemoContent(memo['memoContent']);\r\n        setPublished(memo['published']);\r\n        this.props.history.push('/detailyours');\r\n    }\r\n\r\n    moreButtonClicked = (event) => {\r\n        this.setState({\r\n            memoOffset: this.state.memoOffset + this.state.delim\r\n        });\r\n    }\r\n\r\n    onScroll = (event) => {\r\n        moreAuto(this.moreButtonClicked);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"li-list\">\r\n                {\r\n                    this.state.memos.slice(0, this.state.memoOffset).map((memo, idx) => {\r\n                        return (\r\n                            <div key={idx} data-idx={idx} onClick={this.memoClicked}>\r\n                                <MyLi\r\n                                    memoTitle = {memo.memoTitle}\r\n                                    memoContent = {memo.memoContent}\r\n                                    published = {memo.published}\r\n                                />\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n                </div>\r\n                {\r\n                    /*\r\n                    <div>\r\n                        <button onClick={this.moreButtonClicked}>더 보기</button>\r\n                    </div>\r\n                    */\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(SaveDiary);","import React, {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nclass Redirect extends Component {\r\n    componentDidMount() {\r\n        const {page, mode} = this.props.match.params;\r\n        this.props.history.replace(`/${page}/${mode}`);\r\n    }\r\n    render() {\r\n        return(\r\n            <div>\r\n                redirect...\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Redirect);","import React, {useState, useEffect} from 'react';\r\nimport './App.css';\r\nimport Login from './pages/Login';\r\nimport SignUp from './pages/SignUp';\r\nimport Home from './pages/Home';\r\nimport Header from './headers/Header';\r\nimport Footer from './headers/Footer';\r\nimport DetailYours from './pages/DetailYours';\r\nimport WriteDiary from './pages/WriteDiary';\r\nimport MyDiary from './pages/MyDiary';\r\nimport OtherDiary from './pages/OtherDiary';\r\nimport DetailDiary from './pages/DetailDiary';\r\nimport ModifyDiary from './pages/ModifyDiary';\r\nimport OauthCallback from './components/oauthCallback';\r\nimport SaveDiary from './pages/SaveDiary';\r\nimport Redirect from './pages/redirect/Redirect';\r\n\r\nimport {BrowserRouter as Router, Switch, Route, Link} from 'react-router-dom';\r\n\r\nimport {openDB, getObjectStore} from './lib/indexeddb';\r\nimport axios from 'axios';\r\n\r\nfunction App() {\r\n  const [logged, setLogged] = useState(false);\r\n  const [accessToken, setAccessToken] = useState('');\r\n  const [userId, setUserId] = useState(null);\r\n\r\n  const [memoId, setMemoId] = useState(null);\r\n  const [memoTitle, setMemoTitle] = useState(null);\r\n  const [memoContent, setMemoContent] = useState(null);\r\n  const [published, setPublished] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // indexedDB 가 지원하지 않는 경우\r\n    if (!window.indexedDB) {\r\n      window.alert(\"Your browser doesn't support a stable version of IndexedDB. Such and such feature will not be available.\")\r\n    }\r\n    window.Kakao.init(process.env.REACT_APP_KAKAO_KEY);\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    if (Boolean(sessionStorage[`${process.env.REACT_APP_APP_NAME}.logged`])) {\r\n      if (sessionStorage[`${process.env.REACT_APP_APP_NAME}.platform`] === 'kakao') {\r\n        setNaverId(sessionStorage[`${process.env.REACT_APP_APP_NAME}.userId`]);\r\n      } else if (sessionStorage[`${process.env.REACT_APP_APP_NAME}.platform`] === 'naver') {\r\n        setKakaoId(sessionStorage[`${process.env.REACT_APP_APP_NAME}.userId`]);\r\n      }\r\n    } else {\r\n      logOut();\r\n    }\r\n  }, [logged]);\r\n\r\n  useEffect(() => {\r\n    getRefreshState();\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setRefreshState();\r\n  }, [memoId, memoTitle, memoContent, published])\r\n\r\n  const setNaverId = (id) => {\r\n    logIn('naver', id);\r\n  }\r\n\r\n  const setKakaoId = (id) => {\r\n    logIn('kakao', id);\r\n  }\r\n\r\n  const logIn = (platform, userId) => {\r\n    setLogged(true);\r\n    setUserId(userId);\r\n    sessionStorage[`${process.env.REACT_APP_APP_NAME}.logged`] = 'true'\r\n    sessionStorage[`${process.env.REACT_APP_APP_NAME}.platform`] = platform;\r\n    sessionStorage[`${process.env.REACT_APP_APP_NAME}.userId`] = userId;\r\n  }\r\n\r\n  const logOut = () => {\r\n    setLogged(false);\r\n    setUserId(null);\r\n    sessionStorage.removeItem(`${process.env.REACT_APP_APP_NAME}.platform`);\r\n    sessionStorage.removeItem(`${process.env.REACT_APP_APP_NAME}.userId`);\r\n    sessionStorage.removeItem(`${process.env.REACT_APP_APP_NAME}.logged`);\r\n  }\r\n\r\n  const setRefreshState = () => {\r\n    if (memoId && memoTitle && memoContent && published) {\r\n      const obj = {\r\n        memoId, memoTitle, memoContent, published\r\n      };\r\n      window.localStorage['refreshState'] = JSON.stringify(obj);\r\n    }\r\n  }\r\n\r\n  const getRefreshState = () => {\r\n    if (!memoId && !memoTitle && !memoContent && !published) {\r\n      if (Boolean(window.localStorage['refreshState'])){\r\n        const obj = JSON.parse(window.localStorage['refreshState']);\r\n        setMemoId(obj.memoId);\r\n        setMemoTitle(obj.memoTitle);\r\n        setMemoContent(obj.memoContent);\r\n        setPublished(obj.published);\r\n      }\r\n    }\r\n  }\r\n\r\n  const sayHello = async () => {\r\n    await axios.get('http://localhost:3001/api/hello',{withCredentials: true});\r\n  }\r\n\r\n  return (\r\n    <Router basename={process.env.REACT_APP_PUBLIC_URL}>\r\n      <div className=\"App\">\r\n        {\r\n          // <button onClick={sayHello}>send hello</button>\r\n        }\r\n        <header className=\"mainHeader\">\r\n          <Header logged={logged} logOut={logOut} />\r\n        </header>\r\n        <nav>\r\n        </nav>\r\n        <section className=\"appBody\">\r\n          <Switch>\r\n            <Route path = \"/signup\">\r\n              <SignUp/>\r\n            </Route>\r\n            <Route path = \"/login\">\r\n              <Login setKakaoId={setKakaoId}/>\r\n            </Route>\r\n            <Route path = \"/writeDiary\">\r\n              <WriteDiary logged={logged}/>\r\n            </Route>\r\n            <Route path = \"/my\">\r\n              <MyDiary \r\n                setMemoId={setMemoId}\r\n                setMemoTitle={setMemoTitle}\r\n                setMemoContent={setMemoContent}\r\n                setPublished={setPublished}\r\n              />\r\n            </Route>\r\n            <Route path = \"/other\">\r\n              <OtherDiary />\r\n            </Route>\r\n            <Route name=\"detailPage\" path = \"/detail\">\r\n              <DetailDiary \r\n                setKakaoId={setKakaoId}\r\n                memoId={memoId}\r\n                memoTitle={memoTitle}\r\n                memoContent={memoContent}\r\n                published={published}\r\n              />\r\n            </Route>\r\n            <Route path=\"/modify/:id\" component={ModifyDiary}/>\r\n            <Route path=\"/oauth\">\r\n              <OauthCallback setNaverId={setNaverId}/>\r\n            </Route>\r\n            <Route exact path = \"/\">\r\n              <Home/>\r\n            </Route>\r\n            <Route path=\"/home/:id\">\r\n              <Home/>\r\n            </Route>\r\n            <Route path=\"/save/:mode\">\r\n              <SaveDiary setMemoTitle={setMemoTitle} setMemoContent={setMemoContent} setPublished={setPublished}/>\r\n            </Route>\r\n            <Route path=\"/detailyours\">\r\n              <DetailYours memoId={memoId} memoTitle={memoTitle} memoContent={memoContent} published={published}/>\r\n            </Route>\r\n            <Route path=\"/redirect/:page/:mode\">\r\n              <Redirect/>\r\n            </Route>\r\n          </Switch>\r\n        </section>\r\n        {\r\n          /*\r\n          <footer className=\"footer\">\r\n            <Footer />\r\n          </footer>\r\n          */\r\n        }\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();"],"sourceRoot":""}